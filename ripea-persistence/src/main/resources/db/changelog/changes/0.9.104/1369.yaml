databaseChangeLog:
  - property:
      name: varcharUnit
      value: CHAR
      dbms: oracle
  - property:
      name: varcharUnit
      value: ''
      dbms: postgresql
  - changeSet:
      id: 1697785157435-1
      author: limit
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: IPA_FLUX_FIRMA_USUARI_PK
                  name: ID
                  type: NUMBER(19)
              - column:
                  constraints:
                    nullable: false
                  name: NOM
                  type: VARCHAR(80 ${varcharUnit})
              - column:
                  constraints:
                    nullable: true
                  name: DESCRIPCIO
                  type: VARCHAR(256 ${varcharUnit})
              - column:
                  constraints:
                    nullable: true
                  name: DESTINATARIS
                  type: VARCHAR(512 ${varcharUnit})
              - column:
                  constraints:
                    nullable: false
                  name: PORTAFIRMES_FLUXID
                  type: VARCHAR(64 ${varcharUnit})
              - column:
                  constraints:
                    nullable: false
                  name: USUARI_CODI
                  type: VARCHAR(64 ${varcharUnit})
              - column:
                  constraints:
                    nullable: false
                  name: ENTITAT_ID
                  type: number(19)
              - column:
                  name: CREATEDBY_CODI
                  type: VARCHAR(64 ${varcharUnit})
              - column:
                  name: CREATEDDATE
                  type: TIMESTAMP
              - column:
                  name: LASTMODIFIEDBY_CODI
                  type: VARCHAR(64 ${varcharUnit})
              - column:
                  name: LASTMODIFIEDDATE
                  type: TIMESTAMP
            tableName: IPA_FLUX_FIRMA_USUARI
        - addForeignKeyConstraint:
            baseColumnNames: USUARI_CODI
            baseTableName: IPA_FLUX_FIRMA_USUARI
            constraintName: IPA_FLUX_FIRMA_USUARI_USU_FK
            referencedColumnNames: CODI
            referencedTableName: IPA_USUARI
        - addForeignKeyConstraint:
            baseColumnNames: ENTITAT_ID
            baseTableName: IPA_FLUX_FIRMA_USUARI
            constraintName: IPA_FLUX_FIRMA_USUARI_ENT_FK
            referencedColumnNames: ID
            referencedTableName: IPA_ENTITAT
        - sql:
            dbms: oracle
            sql: GRANT SELECT, UPDATE, INSERT, DELETE ON IPA_FLUX_FIRMA_USUARI TO WWW_RIPEA;
        - insert:
            tableName: ipa_config
            columns:
              - column:
                  name: key
                  value: es.caib.ripea.plugin.portafirmes.fluxos.usuaris
              - column:
                  name: value
                  value: false
              - column:
                  name: description
                  value: Permetre als usuaris crear fluxos
              - column:
                  name: group_code
                  value: ALTRES
              - column:
                  name: position
                  value: 14
              - column:
                  name: jboss_property
                  value: 0
              - column:
                  name: type_code
                  value: BOOL
              - column:
                  name: configurable
                  value: 0