databaseChangeLog:
- property:
    dbms: oracle
    name: varcharUnit
    value: CHAR
- property:
    dbms: postgresql
    name: varcharUnit
    value: ''
- property:
    name: booleanUnit
    value: 1
    dbms: oracle
- property:
    name: booleanUnit
    value: true
    dbms: postgresql    
- changeSet:
    id: 1673857608869-1
    author: limit
    changes:
      - addColumn:
          tableName: ipa_config
          columns:
            - column:
                name: configurable_organ
                type: boolean
                defaultValueBoolean: false
            - column:
                name: organ_codi
                type: varchar(64 ${varcharunit})
            - column:
                name: configurable_entitat_actiu
                type: boolean
                defaultValueBoolean: false                 
            - column:
                name: configurable_organ_actiu
                type: boolean
                defaultValueBoolean: false                
      - sql:
          sql: "update ipa_config set configurable_entitat_actiu = configurable;"  
      - sql:
          sql: "
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.creacio.carpetes.activa';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.mostrar.carpetes.anotacions';                
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.carpetes.logiques';                
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.ordenacio.contingut.habilitada';                
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.creacio.importacio.activa';                
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.creacio.documents.copiarMoure.activa';                
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.creacio.documents.vincular.activa';                
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.descarregar.imprimible.nofirmats';                
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.expedient.permetre.reobrir';                
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.document.modificar.custodiats';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.creacio.documents.publicar.activa';                
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.creacio.documents.moure.mateix.expedient';                

                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.arxiu.class';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.arxiu.caib.base.url';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.arxiu.caib.usuari';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.arxiu.caib.contrasenya';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.arxiu.caib.conversio.imprimible.url';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.arxiu.caib.conversio.imprimible.usuari';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.arxiu.caib.conversio.imprimible.contrasenya';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.arxiu.caib.aplicacio.codi';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.arxiu.caib.csv.definicio';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.arxiu.caib.timeout.connect';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.arxiu.caib.timeout.read';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.arxiu.metadades.addicionals.actiu';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.arxiu.firma.detalls.actiu';
                
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.notificacio.class';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.notificacio.url';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.notificacio.username';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.notificacio.password';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.notificacio.retard.num.dies';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.notificacio.caducitat.num.dies';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.notificacio.enviament.postal.actiu';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.notificacio.enviament.deh.activa';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.notificacio.forsar.entitat';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.notificacio.guardar.certificacio.expedient';
                
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.conversio.class';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.conversio.ooffice.host';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.conversio.ooffice.port';
                
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.pinbal.basic.auth';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.pinbal.base.url';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.pinbal.user';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.pinbal.password';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.pinbal.codi.sia.peticions'; 
                
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.firmaservidor.class';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.firmaservidor.portafib.endpoint';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.firmaservidor.portafib.plugins.signatureserver.portafib.api_passarela_url';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.firmaservidor.portafib.plugins.signatureserver.portafib.api_passarela_username';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.firmaservidor.portafib.auth.username';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.firmaservidor.portafib.plugins.signatureserver.portafib.api_passarela_password';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.firmaservidor.portafib.auth.password';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.firmaservidor.portafib.perfil';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.firmaservidor.portafib.signerEmail';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.firmaservidor.portafib.location';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.plugin.firmaservidor.portafib.username';    
                            
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.tasca.preavisDataLimitEnDies';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.propagar.relacio.expedients';
                update ipa_config set configurable_organ = ${booleanUnit} where key = 'es.caib.ripea.incorporacio.anotacions.duplicada';  
  
          "  





